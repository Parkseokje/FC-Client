{"version":3,"sources":["complete.js"],"names":["requirejs","nextCourseUrl","url","endTimeLogger","locationUrl","data","training_user_id","course_id","course_group_id","trainingUserId","done","courseId","courseGroupId","res","console","info","location","href","btnCompleteCourse","rootUrl","btnNextCourse","event","on","preventDefault"],"mappings":"AAAA,YAEAA,YAII,UAEA,SAAIC,GAsBAC,QAAKC,GAFAC,GAGLC,EAAAA,MACEC,KAAAA,OACAC,IAAAA,kBACAC,MAHIF,iBAAAG,EAKLC,UAAKC,EACFH,gBAAcI,KAAlBF,KAEO,SAAAG,GACLC,EAAQC,SAZZD,QAAAC,KAAA,gBAgBDC,SAAAC,KAAAb,GAHKY,QAASC,MAAOb,EAAAA,OAhCtB,GAAIc,GAAAA,GAAAA,OAAAA,EACAC,EAAUD,EAAAA,oBACVT,EAAiBS,EAAAA,KAAkBb,QACnCM,EAAWO,EAAAA,wBACXN,EAAAA,EAAgBM,KAAkBb,QAFlCI,EAAiBS,EAAkBb,KAAK,oBAI5CM,EAAAO,EAAAb,KAAA,aACAe,EAAiBF,EAAmBG,KAAO,kBAA3CD,GAAAE,GAAA,QAAA,SAAAD,GACEA,EAAME,iBAIRL,EAAkBI,KAAlBJ,EAAAI,GAAA,QAAA,SAAAD,GACEA,EAAME,iBAIRpB,EAAAgB","file":"../javascripts/complete.js","sourcesContent":["'use strict';\n\nrequirejs([\n  'common'\n],\n  function (Util) {\n    var $ = $ || window.$;\n    var btnNextCourse = $('#btn_next_course');\n    var nextCourseUrl = btnNextCourse.attr('href'); // 다음강의보기\n    var btnCompleteCourse = $('#btn_complete_course');\n    var rootUrl = btnCompleteCourse.attr('href');  // 처음으로\n    var trainingUserId = btnCompleteCourse.data('training-user-id');\n    var courseId = btnCompleteCourse.data('course-id');\n    var courseGroupId = btnCompleteCourse.data('course-group-id');\n\n    // 다음 강의 듣기\n    btnNextCourse.on('click', function (event) {\n      event.preventDefault();\n      endTimeLogger(nextCourseUrl);\n    });\n\n    btnCompleteCourse.on('click', function (event) {\n      event.preventDefault();\n      endTimeLogger(rootUrl);\n    });\n\n    // 교육과정 시작시간 기록\n    function endTimeLogger (locationUrl) {\n      $.ajax({\n        type: 'POST',\n        url: '/course/log/end',\n        data: {\n          training_user_id: trainingUserId,\n          course_id: courseId,\n          course_group_id: courseGroupId\n        }\n      }).done(function (res) {\n        if (!res.success) {\n          console.error(res.msg);\n        } else {\n          console.info('교육과정 종료일시 기록');\n          location.href = locationUrl;\n        }\n      });\n    }\n  }\n);\n"]}