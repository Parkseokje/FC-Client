{"version":3,"sources":["profile.js"],"names":["requirejs","btnModifyPhone","isValidEmail","email","isNumber","s","isNaN","replace","$","btnModifyEmail","password","passwordConfirm","btnModifyPassword","phone","on","val","length","alert","select","data","type","url","res","success","msg","focus","done","ajax","re_pass"],"mappings":"AAMA,YAEAA,YAIE,UAEA,SAAIC,GAUH,QAAAC,GAAAC,GAED,MAJW,yJAIFC,KAATD,GAGE,QAAIE,GAAWC,GAAf,MACAD,IAAA,GADS,KAEVA,EAAAA,EAAAE,QAAA,aAAA,OAFgBD,MAAMD,GAdvB,GAAIF,GAAAA,GAAQK,OAAEA,EACVC,EAAAA,EAAAA,UACAC,EAAaF,EAAA,qBACbG,EAAAA,EAAAA,UACAC,EAAAA,EAAAA,qBAFAF,EAAWF,EAAE,aAIjBG,EAAuBR,EAAAA,qBACrBS,EAASJ,EAAA,uBAcPK,GAAAC,GAAA,QAAA,WACA,MAAAD,GAAOE,MAMPX,EAAAS,EAAAE,OAMAF,EAAOE,MAAPC,OAAA,IAAAH,EAAAE,MAAAC,OAAA,IACDC,MAAA,iCAFCJ,EAAMK,UAID,OAGLC,GAAAA,MAHFC,KAIQ,OACNC,IAAKC,uBACHL,MAAMK,MAANT,EAAAE,SACAF,KAAAA,SAAAS,GAFFA,EAGOC,SARTN,MAAA,oBAnBFJ,EAAAE,IAAA,MA4BME,MAAMK,EAAAE,KACNX,EAAME,aAlBTE,MAAA,eAFCJ,EAAMK,UAIJL,IARHI,MAAA,kBAFCJ,EAAMY,SAIHrB,KA8BHD,EAAAW,GAAA,QAAA,WACA,MAAAX,GAAOY,MAMPb,EAAAC,EAAAY,WAMAI,GAAAA,MAHFC,KAKM,OACJC,IAAKC,uBACHL,MAAMK,MAANnB,EAAAY,SAEDW,KAHD,SAGOJ,GACLL,EAAMM,SAvBZN,MAAA,iBAwBMd,EAAMY,IAAI,MAAVZ,MAAMY,EAAIS,KACXrB,EAAAe,aAdFD,MAAA,mBAFCd,EAAMe,UAID,IARND,MAAA,eAFCd,EAAMsB,SAIHvB,KA0BHU,EAAAE,GAAA,QAAA,WACD,MAAAJ,GAAAK,MAMAJ,EAAAI,UAEMP,GAAPmB,MAKEP,KAAKE,OACHL,IAAAA,0BACAN,MAAAA,KAAAA,EAAgBO,MAAhBU,QAAAjB,EAAAI,SAFFW,KAAA,SAGOJ,GACLL,EAAMM,SATVN,MAAA,kBAbFP,EAAAK,IAAA,IAxFFJ,EAAAI,IAAA,MA+GQL,MAAAA,EAASK,KACTJ,EAAgBI,aAhBlBE,MAAM,oBAKNU,EAAKF,SACC,IAZNR,MAAM,gBAKRP,EAAKC,SACG","file":"../javascripts/profile.js","sourcesContent":["/**\n * Created by parkseokje\n * 정보수정\n * TODO\n */\n\n'use strict';\n\nrequirejs([\n  'common'\n],\nfunction (Util) {\n  var $ = $ || window.$;\n  var phone = $('#phone');\n  var btnModifyPhone = $('#btn_modify_phone');\n  var email = $('#email');\n  var btnModifyEmail = $('#btn_modify_email');\n  var password = $('#password');\n  var passwordConfirm = $('#password_confirm');\n  var btnModifyPassword = $('#btn_modify_password');\n\n  function isValidEmail (email) {\n    var re = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  }\n\n  function isNumber (s) {\n    s += ''; // 문자열로 변환\n    s = s.replace(/^\\s*|\\s*$/g, ''); // 좌우 공백 제거\n    if (s == '' || isNaN(s)) return false;\n    return true;\n  }\n\n  btnModifyPhone.on('click', function () {\n    if (!phone.val()) {\n      alert('핸드폰 번호를 입력하세요.');\n      phone.focus();\n      return false;\n    }\n\n    if (!isNumber(phone.val())) {\n      alert('숫자만 입력해주세요.');\n      phone.select();\n      return false;\n    }\n\n    if (phone.val().length < 10 || phone.val().length > 11) {\n      alert('최소 10자, 최대 11자까지 숫자로만 입력해주세요.');\n      phone.select();\n      return false;\n    }\n\n    $.ajax({\n      type: 'POST',\n      url: '/profile/reset-phone',\n      data: { phone: phone.val() }\n    }).done(function (res) {\n      if (!res.success) {\n        alert(res.msg);\n        phone.select();\n      } else {\n        alert('핸드폰 번호를 변경하였습니다.');\n        phone.val('');\n      }\n    });\n  });\n\n  btnModifyEmail.on('click', function () {\n    if (!email.val()) {\n      alert('이메일을 입력하세요.');\n      email.focus();\n      return false;\n    }\n\n    if (!isValidEmail(email.val())) {\n      alert('올바른 이메일을 입력하세요.');\n      email.select();\n      return false;\n    }\n\n    $.ajax({\n      type: 'POST',\n      url: '/profile/reset-email',\n      data: { email: email.val() }\n    })\n    .done(function (res) {\n      if (!res.success) {\n        alert(res.msg);\n        email.select();\n      } else {\n        alert('이메일을 변경하였습니다.');\n        email.val('');\n      }\n    });\n  });\n\n  btnModifyPassword.on('click', function () {\n    if (!password.val()) {\n      alert('비밀번호를 입력하세요.');\n      password.focus();\n      return false;\n    }\n\n    if (!passwordConfirm.val()) {\n      alert('비밀번호 확인란을 입력하세요.');\n      passwordConfirm.focus();\n      return false;\n    }\n\n    $.ajax({\n      type: 'POST',\n      url: '/profile/reset-password',\n      data: { pass: password.val(), re_pass: passwordConfirm.val() }\n    }).done(function (res) {\n      if (!res.success) {\n        alert(res.msg);\n        passwordConfirm.select();\n      } else {\n        alert('비밀번호를 변경하였습니다.');\n        password.val('');\n        passwordConfirm.val('');\n      }\n    });\n  });\n});\n"]}