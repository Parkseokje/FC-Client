"use strict";window.requirejs(["common","aquaNManagerService","easyTimer","jqueryTimer"],function(t,e,i){function a(){r.ajax({type:"POST",url:"/session/log/starttime",data:{training_user_id:c.data("training-user-id"),course_id:c.data("course-id"),course_list_id:c.data("course-list-id")}}).done(function(t){t.success||console.error(t.msg)})}function n(){r.ajax({type:"POST",url:"/session/log/endtime",data:{training_user_id:c.data("training-user-id"),course_id:c.data("course-id"),course_list_id:c.data("course-list-id")}}).done(function(t){t.success?window.location.href=f:console.error(t.msg)})}function o(){"done"===c.data("status")&&(l.removeClass("blind"),g.addClass("blind"))}function s(){return axios.delete("/video/log",{params:{video_id:c.data("id")}}).then(function(t){}).catch(function(t){console.error(t)})}function d(){return axios.delete("/session/log",{params:{training_user_id:c.data("training-user-id"),course_list_id:c.data("course-list-id")}}).then(function(t){}).catch(function(t){console.error(t)})}var r=r||window.$,c=r(".videoplayer"),u=r("#btn_play_video"),l=r("#btn_play_next"),f=l.parent().attr("href"),g=r("#btn_replay_video"),m=r("#countdown .values"),_=new i,v=c.data("autoplay"),p=t.getOSName();r(function(){var t={videoUrl:c.data("url"),trainingUserId:c.data("training-user-id"),courseId:c.data("course-id"),courseListId:c.data("course-list-id"),videoId:c.data("id"),videoStatus:c.data("status"),totalPlayedSeconds:c.data("total-play")};e=new e(t),"1"==c.data("confirm")&&(r(".timer").removeClass("blind"),setTimeout(function(){_.start({countdown:!0,startValues:{seconds:30}}),m.html(_.getTimeValues().toString()+" 초 이내 <b>다음</b> 버튼을 클릭해주세요."),_.addEventListener("secondsUpdated",function(t){m.html(_.getTimeValues().toString()+" 초 이내 <b>다음</b> 버튼을 클릭해주세요.")}),_.addEventListener("targetAchieved",function(t){m.html("학습 초기화 중입니다.."),setTimeout(function(){window.alert("30초 동안 다음 버튼을 누르지 않아 학습을 초기화 하였습니다.\n\n재시청 해주시기 바랍니다."),axios.all([s(),d()]).then(axios.spread(function(t,e){window.location.reload()}))},3e3)})},1e3)),o(),console.log(p),u.on("click",function(){_.stop(),a(),e.startPlayer()}),v&&u.click()}),l.on("click",function(t){t.preventDefault(),_.stop(),n()})});
//# sourceMappingURL=../maps/video_aqua.js.map
