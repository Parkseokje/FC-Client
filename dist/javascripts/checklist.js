"use strict";window.requirejs(["common"],function(e){function t(){s.ajax({type:"POST",url:"/session/log/starttime",data:{training_user_id:c,course_id:n,course_list_id:d}}).done(function(e){e.success||console.error(e.msg)})}function a(){s.ajax({type:"POST",url:"/session/log/endtime",data:{training_user_id:c,course_id:n,course_list_id:d}}).done(function(e){e.success?window.location.href=o:console.error(e.msg)})}var s=s||window.$,i=s("#btn_submit_answers"),r=s("#btn_play_next"),c=r.data("training-user-id"),n=r.data("course-id"),d=r.data("course-list-id"),o=r.attr("href");s(function(){t()}),s('[name*="sample-"]').click(function(){var e=s(this).parent(),t=e.parent(),a=t.children().children(s('[name*="sample-"]'));e.hasClass("active")?(s(this).removeAttr("checked").prop("checked",!1),e.removeClass("active focus")):(e.addClass("active focus"),s(this).attr("checked","checked").prop("checked",!0),"choose"!==t.data("type")&&a.not(s(this)).removeAttr("checked").prop("checked",!1).parent().removeClass("active focus"))}),r.on("click",function(e){e.preventDefault(),a()}),i.on("click",function(e){e.preventDefault();var t=[],a=0;s(".checklist-item").each(function(e){var i=s(this).data("id"),r=s(this).data("type"),c=!0;switch(r){case"write":""===s(this).val()&&(c=!1),t.push({id:i,answer:s(this).val()});break;default:var n=s(this).find("input:checked").map(function(){return s(this).val()}).get().join(";");""===n&&(c=!1),t.push({id:i,answer:n})}c?(s(".alert[data-id="+i+"]").removeClass("alert-danger"),s(".alert[data-id="+i+"]").addClass("alert-success")):(a++,s(".alert[data-id="+i+"]").removeClass("alert-success"),s(".alert[data-id="+i+"]").addClass("alert-danger"))}),0===a?s.ajax({type:"POST",url:"/checklist/submit",data:{answers:t,training_user_id:c,course_id:n,course_list_id:d}}).done(function(e){e.success?(window.alert("성실히 답변해주셔서 감사합니다"),i.addClass("blind"),r.removeClass("blind"),r.click()):console.error(e.msg)}):window.alert("작성하지 않은 항목이 존재합니다")})});
//# sourceMappingURL=../maps/checklist.js.map
