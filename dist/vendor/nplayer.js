function isIE(){return window.ActiveXObject||"Microsoft Internet Explorer"==navigator.appName||navigator.userAgent.match(/MSIE/i)||navigator.userAgent.match(/Trident/i)}function isWindowsOS(){return 0<=navigator.platform.toUpperCase().indexOf("WIN")}function isMacOSX(){return 0<=navigator.platform.toUpperCase().indexOf("MAC")}function isMobileOS(){return!!(navigator.userAgent.match(/Android/i)||navigator.userAgent.match(/webOS/i)||navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)||navigator.userAgent.match(/iPod/i)||navigator.userAgent.match(/BlackBerry/i)||navigator.userAgent.match(/Windows Phone/i))}function isMacOSXApp(){return isMacOSXApplication}function JSONstringify(e){var t=typeof e;if("object"!=t||null===e)return"string"==t&&(e='"'+e+'"'),String(e);var n,a,i=[],r=e&&e.constructor==Array;for(n in e)"string"==(t=typeof(a=e[n]))?a='"'+a+'"':"object"==t&&null!==a&&(a=JSONstringify(a)),i.push((r?"":'"'+n+'":')+String(a));return(r?"[":"{")+String(i)+(r?"]":"}")}function NPlayer(e,t){function n(e){return document.getElementById(e)}function a(){return"<div id='"+d+"-msg'></div>"}function i(){var e="<a href='"+NPLAYER_SETUP_URL+"'><div id='nplayer-download-image'></div></a><p>동영상을 시청하려면 <a style='color:#ff4f4f;text-decoration:none' href='"+NPLAYER_SETUP_URL+"'><span style='color:#00ff00'>nPlayer</span> 설치 프로그램을 내려받아</a> 설치하여 주십시오.<br />플레이어 설치 후 페이지를 새로고침 해 주세요.</p>";return"string"==typeof NPLAYER_INSTALL_MSG&&(e=NPLAYER_INSTALL_MSG),"<table width='100%' height='100%' style='color:#9f9f9f;background-color:black;font-size:14px'><tr><td align='center' valign='middle'>"+e+"</td></tr></table>"}function r(){h=new _NPlayerPlugin(window.external),s(),b=!0}function o(){var r="";"undefined"!=typeof NPLAYER_USE_DSHOW&&(r="<param name='DShow' value='"+(0==NPLAYER_USE_DSHOW?"false":"true")+"' />");var o=a()+"<object id='"+d+"' classid='CLSID:{FE380CD7-670A-49B7-8A47-8E9DB67E5ED8}' width='1px' height='1px' codebase='"+NPLAYER_SETUP_URL+"#version="+NPLAYER_VERSION+"' ><param name='ControlBoxUrl' value='"+t.controlBox+"' /><param name='GuardDataBaseUrl' value='"+NPLAYER_GUARD_DB_URL+"' />"+(t.auth?"<param name='AuthUrl' value='"+t.auth+"' />":"")+(t.guardFlags?"<param name='GuardFlags' value='"+t.guardFlags+"' />":"")+"<param name='AutoPlay' value='"+(0==t.autoplay?"false":"true")+"' /><param name='Seekable' value='"+(0==t.seekable?"false":"true")+"' />"+r+"</object><span id='nplayer-install-msg'></span>";if(n(e).innerHTML+=o,n(d).object)h=new _NPlayerPlugin(n(d)),0!=t.visible&&h.setVisible(!0),s();else{n("nplayer-install-msg").innerHTML=i();var l=window.setInterval(function(){if(n(d).object)return n("nplayer-install-msg").innerHTML="",window.clearInterval(l),void location.reload()},500)}}function l(t){var i=!1;if(1==t.subtitle&&(i=!0),1==t.cors&&(i=!0),i)var r=a()+"<video class='video-js vjs-default-skin' style='visibility:hidden' id='"+d+"' width='100%' height='100%' preload crossorigin='anonymous' playsinline></video>";else r=a()+"<video class='video-js vjs-default-skin' style='visibility:hidden' id='"+d+"' width='100%' height='100%' preload playsinline></video>";n(e).innerHTML+=r,h=new _NPlayerHtml5(n(d),t),0!=t.visible&&h.setVisible(!0),s()}function s(){h.attachEvent("OpenStateChanged",function(e){switch(e){case NPlayer.OpenState.Opening:!function(e){if(null!=h){h.setVisible(g);try{n(d+"-msg").innerHTML=""}catch(e){}}}();break;case NPlayer.OpenState.Opened:if(S=P=m=y=0,!b)try{p.setCurrentPlaybackTime(_)}catch(e){}}if(p._onOpenStateChanged)for(var t in p._onOpenStateChanged)p._onOpenStateChanged[t](e)}),h.attachEvent("PlayStateChanged",function(e){switch(e){case NPlayer.PlayState.Playing:case NPlayer.PlayState.Paused:break;case NPlayer.PlayState.Stopped:}if(p._onPlayStateChanged)for(var t in p._onPlayStateChanged)p._onPlayStateChanged[t](e)}),h.attachEvent("BufferingData",function(e){if(p._onBufferingData)for(var t in p._onBufferingData)p._onBufferingData[t](e)}),h.attachEvent("PlaybackCompleted",function(){if(p._onPlaybackCompleted)for(var e in p._onPlaybackCompleted)p._onPlaybackCompleted[e]()}),h.attachEvent("Error",function(e,t){var n;if(p._onError)for(var a in p._onError)n=p._onError[a](e,t),0==a&&!1===n||f(t);else f(t)}),h.attachEvent("RateChanged",function(e){if(p._onRateChanged)for(var t in p._onRateChanged)p._onRateChanged[t](e)}),h.attachEvent("VolumeChanged",function(e){if(p._onVolumeChanged)for(var t in p._onVolumeChanged)p._onVolumeChanged[t](e)}),h.attachEvent("MuteChanged",function(e){if(p._onMuteChanged)for(var t in p._onMuteChanged)p._onMuteChanged[t](e)}),h.attachEvent("RepeatPointAChanged",function(e){if(p._onRepeatPointAChanged)for(var t in p._onRepeatPointAChanged)p._onRepeatPointAChanged[t](e)}),h.attachEvent("RepeatPointBChanged",function(e){if(p._onRepeatPointBChanged)for(var t in p._onRepeatPointBChanged)p._onRepeatPointBChanged[t](e)}),h.attachEvent("PlaybackRangeChanged",function(e,t){if(p._onPlaybackRangeChanged)for(var n in p._onPlaybackRangeChanged)p._onPlaybackRangeChanged[n](e,t)}),h.attachEvent("UpdateTime",function(e){p.updateTime(e)}),h.attachEvent("DurationChanged",function(){if(p._onDurationChanged)for(var e in p._onDurationChanged)p._onDurationChanged[e]()}),h.attachEvent("Click",function(e,t){if(p._onClick){for(var n in p._onClick)0==p._onClick[n](e,t)&&!1}}),h.attachEvent("DblClick",function(t,n){if(p._onDblClick)for(var a in p._onDblClick)p._onDblClick[a](t,n);!function(){e&&c()}()}),h.attachEvent("KeyDown",function(t){if(!(-1!=navigator.userAgent.search("MSIE 7.0")&&7<document.documentMode)&&e)if(p._onKeyDown){var n=!0;for(var a in p._onKeyDown)0==p._onKeyDown[a](t)&&(n=!1);n&&u(t)}else u(t)}),h.attachEvent("GetControlBoxHeight",function(){return p.onGetControlBoxHeight?p.onGetControlBoxHeight():0}),h.attachEvent("GuardCallback",function(e,t){if(p._onGuardCallback)for(var n in p._onGuardCallback)p._onGuardCallback[n](e,t)}),h.attachEvent("ContextMenu",function(e,t){if(p._onContextMenu)for(var n in p._onContextMenu)p._onContextMenu[n](e,t)}),h.attachEvent("FrameStepChanged",function(e){if(p._onFrameStepChanged)for(var t in p._onFrameStepChanged)p._onFrameStepChanged[t](e)}),h.attachEvent("Repeat",function(e,t){if(p._onRepeat)for(var n in p._onRepeat)p._onRepeat[n](e,t)}),h.attachEvent("FullscreenChange",function(e){if(e?jQuery("body").addClass("nplayer-fullscreen"):jQuery("body").removeClass("nplayer-fullscreen"),p._onFullscreenChange)for(var t in p._onFullscreenChange)p._onFullscreenChange[t](e)}),jQuery(document).bind("fullscreenchange",function(){document.webkitIsFullScreen||document.mozFullScreen||document.msFullscreenElement?h.onFullscreenChange(!0):h.onFullscreenChange(!1)}),jQuery(document).bind("webkitfullscreenchange",function(){document.webkitIsFullScreen?h.onFullscreenChange(!0):h.onFullscreenChange(!1)}),jQuery(document).bind("mozfullscreenchange",function(){document.mozFullScreen?h.onFullscreenChange(!0):h.onFullscreenChange(!1)}),jQuery(document).bind("MSFullscreenChange",function(){document.msFullscreenElement?h.onFullscreenChange(!0):h.onFullscreenChange(!1)}),window.setTimeout(function(){if(p._onReady)for(var e in p._onReady)p._onReady[e]()},0)}function u(e){switch(e){case 13:c();break;case 27:h.setFullscreen(!1);break;case 32:!function(){null!=h&&(h.getPlayState()==NPlayer.PlayState.Playing?h.pause():h.play())}();break;case 38:case 107:h.setVolume(h.getVolume()+.1);break;case 40:case 109:h.setVolume(h.getVolume()-.1);break;case 37:p.seek(h.getCurrentPlaybackTime()-p.getFrameStep(),0,0);break;case 39:p.seek(h.getCurrentPlaybackTime()+p.getFrameStep(),0,0);break;case 90:case 36:case 35:p.setCurrentPlaybackRate(1);break;case 88:case 34:.6<h.getCurrentPlaybackRate().toFixed(1)&&p.setCurrentPlaybackRate(h.getCurrentPlaybackRate()-.1);break;case 67:case 33:h.getCurrentPlaybackRate().toFixed(1)<2&&p.setCurrentPlaybackRate(h.getCurrentPlaybackRate()+.1);break;case 219:h.setRepeatPointA(h.getCurrentPlaybackTime());break;case 221:h.setRepeatPointB(h.getCurrentPlaybackTime());break;case 220:p.resetABRepeat();break;case 77:case 106:!function(){null!=h&&h.setMute(!h.getMute())}();break;default:return!0}return!1}function c(){null!=h&&h.setFullscreen(!h.getFullscreen())}function f(e){if(null!=h){g=h.getVisible(),h.setVisible(!1);try{n(d+"-msg").innerHTML="<table width='100%' height='100%' style='color:#ff0000;font-size:14px;position:absolute;'><tr><td align='center' valign='middle'><div id='nplayer-error-image'></div>"+e+"</td></tr></table>"}catch(e){}}}t||(t={});var p=this,d=e+"-nplayer-"+ ++g__nplayer_index__,h=null,g=0!=t.visible,y=0,m=0,P=0,_=0,S=0,b=!1,C=0;!function(){function a(e){if(e&&e.srcElement){-1!=navigator.userAgent.search("MSIE 7.0")&&7<document.documentMode||e.srcElement.id==d&&e.preventDefault();var t=e.srcElement.type;if("text"==t||"textarea"==t)return!0}return p._onKeyDown?0!=p._onKeyDown[0](e.keyCode)?u(e.keyCode):void 0:u(e.keyCode)}if(0==t.seekable&&(jQuery("#"+e).addClass("video-not-seekable"),jQuery("body").addClass("body-not-seekable")),isMobileOS()?jQuery("body").addClass("nplayer-platform-mobile"):isWindowsOS()?jQuery("body").addClass("nplayer-platform-windows"):isMacOSX()&&jQuery("body").addClass("nplayer-platform-mac"),"html5"==t.mode)l(t);else if("activex"==t.mode){if("Win32"==navigator.platform&&isIE())e?o():r();else if("Win64"==navigator.platform&&isIE())return alert("IE 64비트 버전에서는 재생할 수 없습니다. IE 32비트 버전을 사용하십시오.")}else if("mac"==t.mode)isMacOSX()&&"undefined"!=typeof nPlayer&&((h=new _NPlayerMac(n(d),t)).setVisible(!0),isMacOSXApplication=!0,s());else if("Win32"==navigator.platform)e?o():r();else{if("Win64"==navigator.platform&&isIE())return alert("IE 64비트 버전에서는 재생할 수 없습니다. IE 32비트 버전을 사용하십시오.");l(t)}if(null!=h?jQuery("body").addClass("nplayer-ready"):jQuery("body").addClass("nplayer-notready"),!isIE()&&null==h)return n(e).innerHTML="\t\t<table width='100%' height='100%' style='color:#9f9f9f;background-color:black;font-size:14px'><tr><td align='center' valign='middle'><div id='nplayer-error-image'></div>\t\t<p>이 브라우저에서는 영상을 재생할 수 없습니다.<br /><span style='color:#00ff00'>다른 브라우저를 실행해 주세요.</span></p>\t\t</td></tr></table>\t\t";document.body.addEventListener?document.body.addEventListener("keydown",a,!1):document.body.attachEvent("onkeydown",a),p.processKeyDown=a}(),this.fireEvent=function(e,t){var n=new CustomEvent(e,t);document.dispatchEvent(n)},this.open=function(e,t){if(null!=h){t&&(_=t);var n=typeof e;"string"==n?h.open(e):"object"==n&&h.setPlayItem(e)}},this.close=function(){null!=h&&h.close()},this.play=function(){null!=h&&h.play()},this.pause=function(){null!=h&&h.pause()},this.stop=function(){null!=h&&h.stop()},this.command=function(e,t){null!=h&&h.command(e,t)},this.setCDNAuthParam=function(e){null!=h&&h.setCDNAuthParam(e)},this.setPlayItem=function(e){null!=h&&h.setPlayItem(e)},this.setSubtitleFont=function(e,t){null!=h&&h.setSubtitleFont(e,t)},this.setSubtitleColor=function(e,t,n,a){null!=h&&h.setSubtitleColor(e,t,n,a)},this.setSubtitlePosition=function(e,t){null!=h&&h.setSubtitlePosition(e,t)},this.setSubtitleText=function(e){null!=h&&h.setSubtitleText(e)},this.setWatermarkText=function(e){null!=h&&h.setWatermarkText(e)},this.setWatermarkSize=function(e){null!=h&&h.setWatermarkSize(e)},this.setWatermarkColor=function(e,t,n,a){null!=h&&h.setWatermarkColor(e,t,n,a)},this.setWatermarkLocation=function(e){null!=h&&h.setWatermarkLocation(e)},this.setWatermarkInterval=function(e){null!=h&&h.setWatermarkInterval(e)},this.setWatermarkDuration=function(e){null!=h&&h.setWatermarkDuration(e)},this.getSeekable=function(){return null!=h&&h.getSeekable()},this.setSeekable=function(t){null!=h&&(t?(jQuery("#"+e).removeClass("video-not-seekable"),jQuery("body").removeClass("body-not-seekable")):(jQuery("#"+e).addClass("video-not-seekable"),jQuery("body").addClass("body-not-seekable")),h.setSeekable(t))},this.getBrightness=function(){if(null!=h)return h.getBrightness()},this.setBrightness=function(e){null!=h&&h.setBrightness(e)},this.getContrast=function(){if(null!=h)return h.getContrast()},this.setContrast=function(e){null!=h&&h.setContrast(e)},this.getSaturation=function(){if(null!=h)return h.getSaturation()},this.setSaturation=function(e){null!=h&&h.setSaturation(e)},this.bindEvent=function(e,t){if(null!=h){var n="_on"+e;p[n]||(p[n]=[]),p[n].push(t)}},this.getOpenState=function(){return null==h?0:h.getOpenState()},this.getPlayState=function(){return null==h?0:h.getPlayState()},this.getDuration=function(){return null==h?0:h.getDuration()},this.seek=function(e,t,n){if(null!=h&&0!=h.getSeekable()){if(p._onPlaybackPositionChanging)for(var a in p._onPlaybackPositionChanging)p._onPlaybackPositionChanging[a](e);if(p._onSeeking)for(var a in p._onSeeking)p._onSeeking[a](parseInt(p.getCurrentPlaybackTime()),parseInt(e));h.seek(e,t,n)}},this.getCurrentPlaybackTime=function(){return null==h?0:h.getCurrentPlaybackTime()},this.setCurrentPlaybackTime=function(e){if(null!=h&&0!=h.getSeekable()&&(e>h.getDuration()&&(e=h.getDuration()),e<0&&(e=0),!p._callstackFlag1&&p.getCurrentPlaybackTime()!=e&&(p.getPlayState()==NPlayer.PlayState.Playing||parseInt(p.getCurrentPlaybackTime())!=parseInt(e)||e==h.getDuration()))){if(p._onPlaybackPositionChanging)for(var t in p._onPlaybackPositionChanging)p._onPlaybackPositionChanging[t](e);if(p._onSeeking)for(var t in p._onSeeking)p._onSeeking[t](parseInt(p.getCurrentPlaybackTime()),parseInt(e));p._callstackFlag1=!0,p.getPlayState()==NPlayer.PlayState.Playing&&p.firePlayStateChanged(NPlayer.PlayState.Playing),p._callstackFlag1=!1,h.setCurrentPlaybackTime(e)}},this.getCurrentPlaybackRate=function(){return null==h?1:h.getCurrentPlaybackRate()},this.setCurrentPlaybackRate=function(e){null!=h&&h.setCurrentPlaybackRate(e)},this.getNearestKeyframeTimestamp=function(e){return null==h?0:h.getNearestKeyframeTimestamp(e)},this.setPlaybackRange=function(e,t){null!=h&&h.setPlaybackRange(e,t)},this.addContextMenu=function(e,t){null!=h&&h.addContextMenu(e,t)},this.getVolume=function(){return null==h?0:h.getVolume()},this.setVolume=function(e){null!=h&&h.setVolume(e)},this.getMute=function(){return null!=h&&h.getMute()},this.setMute=function(e){null!=h&&h.setMute(e)},this.getFullscreen=function(){return null!=h&&h.getFullscreen()},this.setFullscreen=function(e){null!=h&&h.setFullscreen(e)},this.getABRepeat=function(){return null!=h&&0<=h.getRepeatPointA()&&0<=h.getRepeatPointB()},this.setABRepeat=function(e){null!=h&&0!=h.getSeekable()&&h.setABRepeat(e)},this.resetABRepeat=function(){p.setABRepeat(!1)},this.getRepeatPointA=function(){return null==h?0:h.getRepeatPointA()},this.setRepeatPointA=function(e){null!=h&&0!=h.getSeekable()&&(e>h.getDuration()||h.setRepeatPointA(e))},this.resetRepeatPointA=function(){null!=h&&h.resetRepeatPointA()},this.getRepeatPointB=function(){return null==h?0:h.getRepeatPointB()},this.setRepeatPointB=function(e){null!=h&&0!=h.getSeekable()&&(e>h.getDuration()||h.setRepeatPointB(e))},this.resetRepeatPointB=function(){null!=h&&h.resetRepeatPointB()},this.getRepeatCount=function(){return null==h?0:C},this.setRepeatCount=function(e){null!=h&&(C=e)},this.getBeginPlaybackPosition=function(){return null==h?0:h.getBeginPlaybackPosition()},this.getEndPlaybackPosition=function(){return null==h?0:h.getEndPlaybackPosition()},this.getVisible=function(){return null!=h&&h.getVisible()},this.setVisible=function(e){null!=h&&h.setVisible(e)},this.getRealPlayTime=function(){return null==h?0:h.getRealPlayTime?h.getRealPlayTime():m},this.getPlayTime=function(){return null==h?0:h.getPlayTime?h.getPlayTime():P},this.getFrameStep=function(){return null==h?10:h.getFrameStep()},this.setFrameStep=function(e){null!=h&&h.setFrameStep(e)},this.isControlBox=function(){return null!=h&&b},this.getDeviceID=function(){return null==h?"":h.getDeviceID()},this.updateTime=function(e){var t=parseInt(e);if(e==h.getDuration()&&(t=h.getDuration()),y!=t){if(h.getPlayState()==NPlayer.PlayState.Playing&&(e=parseInt(h.getCurrentPlaybackTime()))!=S){var n=S+1==e;m+=n,P+=n/h.getCurrentPlaybackRate(),S=e}if(y=t,p._onUpdateTime)for(var a in p._onUpdateTime)p._onUpdateTime[a](y)}},this.setTrim=function(e,t){null!=h&&null==p.getDeviceID()&&h.setTrim&&h.setTrim(e,t)},this.getSubtitleVisible=function(){return null!=h&&(h.getSubtitleVisible?h.getSubtitleVisible():void 0)},this.setSubtitleVisible=function(e){null!=h&&h.setSubtitleVisible&&h.setSubtitleVisible(e)},this.getSubtitleCount=function(){return null==h?0:h.getSubtitleCount?h.getSubtitleCount():0},this.firePlayStateChanged=function(e){if(null==h)return 0;if(p._onPlayStateChanged)for(var t in p._onPlayStateChanged)p._onPlayStateChanged[t](e)},isMacOSXApplication&&(this.updateMute=function(e){if(p._onMuteChanged)for(var t in p._onMuteChanged)p._onMuteChanged[t](e)},this.nPlayerFullScreenChange=function(e){if(p._onMacfullscreenchange)for(var t in p._onMacfullscreenchange)p._onMacfullscreenchange[t](e)},this.getVideoLocation=function(){var t=jQuery("#"+e).offset().top,n=jQuery("#"+e).offset().left,a={width:jQuery("#"+e).width(),height:jQuery("#"+e).height(),x:n,y:t};return JSON.stringify(a)},this.fireOpenStateChanged=function(e){if(p._onOpenStateChanged)for(var t in p._onOpenStateChanged)p._onOpenStateChanged[t](e)},this.setDuration=function(e){h.setDuration(e)},this.updateVolume=function(e){if(p._onVolumeChanged)for(var t in p._onVolumeChanged)p._onVolumeChanged[t](e)},this.updateBufferingData=function(e){if(p._onBufferingData)for(var t in p._onBufferingData)p._onBufferingData[t](e)},this.updateRate=function(e){if(p._onRateChanged)for(var t in p._onRateChanged)p._onRateChanged[t](e)},this.updateRepeatPoint=function(e){if(p._onRepeatPointAChanged)for(var t in p._onRepeatPointAChanged)p._onRepeatPointAChanged[t](0)})}function _NPlayerHtml5(player,conf){function displayError(e){_self.onError&&_self.onError(-1,e)}function fireOpenStateChanged(e){e!=_openState&&(_openState=e,_self.onOpenStateChanged&&_self.onOpenStateChanged(_openState))}function firePlayStateChanged(e){_playState=e,_self.onPlayStateChanged&&_self.onPlayStateChanged(_playState)}function onClose(){fireOpenStateChanged(NPlayer.OpenState.Closed),_self.resetRepeatPointA(),_self.resetRepeatPointB(),_self.onMuteChanged&&_self.onMuteChanged(player.muted)}var _self=this,_pendingStop=!1,_pendingClose=!1,_openState=NPlayer.OpenState.Closed,_playState=NPlayer.PlayState.Stopped,_repeatPointA=-1,_repeatPointB=-1,_frameStep=30,_seekable=0!=conf.seekable,_trimStart=0,_trimEnd=-1,_notfireplay=!1,_isBuffering=!1;this.open=function(url){_trimStart=0,_trimEnd=-1;try{var loc=document.createElement("a");if(loc.href=url,""!=loc.hash&&(url=loc.protocol+"//"+loc.host+"/"+loc.pathname,"#t="==loc.hash.substr(0,3))){var trimRangeArr=loc.hash.substr(3).split(",");if(1==trimRangeArr.length&&/^\d+$/.test(trimRangeArr[0])){var trimStart=parseInt(trimRangeArr[0]);0<=trimStart&&(_trimStart=trimStart)}else if(2==trimRangeArr.length)if(""==trimRangeArr[1]&&/^\d+$/.test(trimRangeArr[0])){var trimStart=parseInt(trimRangeArr[0]);0<=trimStart&&(_trimStart=trimStart)}else if(""==trimRangeArr[0]&&/^\d+$/.test(trimRangeArr[1])){var trimEnd=parseInt(trimRangeArr[1]);0<trimEnd&&(_trimStart=0,_trimEnd=trimEnd)}else if(/^\d+$/.test(trimRangeArr[0])&&/^\d+$/.test(trimRangeArr[1])){var trimStart=parseInt(trimRangeArr[0]),trimEnd=parseInt(trimRangeArr[1]);0<=trimStart&&0<trimEnd&&trimStart<trimEnd&&(_trimStart=trimStart,_trimEnd=trimEnd)}}}catch(e){return void _self.stop()}if(_openState!=NPlayer.OpenState.Closed&&(firePlayStateChanged(NPlayer.PlayState.Stopped),fireOpenStateChanged(NPlayer.OpenState.Closing),fireOpenStateChanged(NPlayer.OpenState.Closed)),$("source").remove(),$("video").append('<source src="'+url+'" />'),$("source")[0].addEventListener("error",function(e){_self.onError("-2","영상을 불러올 수 없습니다."),firePlayStateChanged(NPlayer.PlayState.Stopped),fireOpenStateChanged(NPlayer.OpenState.Closing),fireOpenStateChanged(NPlayer.OpenState.Closed)}),player.load(),!1!==conf.autoplay){var playPromise=player.play();"object"==typeof playPromise&&eval("playPromise.then(function() {}).catch(function(error) { firePlayStateChanged(NPlayer.PlayState.WAIT_USER_INTERACTION); });")}},this.close=function(){firePlayStateChanged(NPlayer.PlayState.Stopped),fireOpenStateChanged(NPlayer.OpenState.Closing),_pendingClose=!0,player.src="http://null/",player.load()},this.play=function(){_openState!=NPlayer.OpenState.Opened&&_openState!=NPlayer.OpenState.Opening||((player.currentTime<_trimStart||-1!=_trimEnd&&player.currentTime>=_trimEnd)&&(player.currentTime=_trimStart),player.play())},this.pause=function(){_openState==NPlayer.OpenState.Opened&&player.pause()},this.stop=function(){_openState==NPlayer.OpenState.Opened&&(_pendingStop=!0,player.pause(),player.currentTime=0)},this.getOpenState=function(){return _openState},this.getPlayState=function(){return _playState},this.getDuration=function(){return 0<_trimEnd?Math.min(_trimEnd,player.duration)-_trimStart:player.duration},this.seek=function(e,t,n){_self.setCurrentPlaybackTime(e)},this.getCurrentPlaybackTime=function(){return player.currentTime-_trimStart},this.setCurrentPlaybackTime=function(e){isNaN(e)||(player.currentTime=e+_trimStart)},this.getCurrentPlaybackRate=function(){return player.playbackRate},this.setCurrentPlaybackRate=function(e){player.playbackRate=e,player.defaultPlaybackRate=e},this.getNearestKeyframeTimestamp=function(e){return e},this.setPlaybackRange=function(e,t){},this.addContextMenu=function(e,t){},this.getVolume=function(){return player.volume},this.setVolume=function(e){e<0?e=0:1<e&&(e=1),player.muted=!1,player.volume=e},this.getMute=function(){return player.muted},this.setMute=function(e){_openState==NPlayer.OpenState.Opened&&(player.muted=e)},this.getFullscreen=function(){return!!(document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement)},this.setFullscreen=function(e){if(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)if(e){var t=player;"undefined"!=typeof g__fullscreen_layout_id__&&document.getElementById(g__fullscreen_layout_id__)&&(t=document.getElementById(g__fullscreen_layout_id__)),t.requestFullscreen?t.requestFullscreen():t.webkitRequestFullScreen?t.webkitRequestFullScreen():t.mozRequestFullScreen?t.mozRequestFullScreen():t.msRequestFullscreen&&t.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.msExitFullscreen&&document.msExitFullscreen()},this.getRepeatPointA=function(){return _repeatPointA<0&&0<=_repeatPointB?0:_repeatPointA},this.setABRepeat=function(e){e?(_self.setRepeatPointA(0),_self.setRepeatPointB(_self.getDuration())):(_self.resetRepeatPointA(),_self.resetRepeatPointB())},this.setRepeatPointA=function(e){if(0!=_self.getSeekable()&&_openState==NPlayer.OpenState.Opened&&_playState!=NPlayer.PlayState.Stopped&&_repeatPointA!=e){var t=parseInt(e);-1!=e&&parseInt(t)==parseInt(_self.getRepeatPointB())||((-1==_self.getRepeatPointB()||t<_self.getRepeatPointB())&&(_repeatPointA=t),t>_self.getCurrentPlaybackTime()&&_self.setCurrentPlaybackTime(t),_self.onRepeatPointAChanged&&_self.onRepeatPointAChanged(t))}},this.resetRepeatPointA=function(){_self.setRepeatPointA(-1)},this.getRepeatPointB=function(){return _repeatPointB<0&&0<=_repeatPointA?0<_trimEnd?Math.min(_trimEnd,player.duration)-_trimStart:player.duration:_repeatPointB},this.setRepeatPointB=function(e){if(0!=_self.getSeekable()&&_openState==NPlayer.OpenState.Opened&&_playState!=NPlayer.PlayState.Stopped&&_repeatPointB!=e){var t=parseInt(e);-1!=e&&parseInt(_self.getRepeatPointA())==parseInt(t)||(_self.getDuration()==e&&(t=_self.getDuration()),_repeatPointB=t,_self.onRepeatPointBChanged&&_self.onRepeatPointBChanged(_repeatPointB))}},this.resetRepeatPointB=function(){_self.setRepeatPointB(-1)},this.getBeginPlaybackPosition=function(){return-1},this.getEndPlaybackPosition=function(){return-1},this.getVisible=function(){player.style.visibility},this.setVisible=function(e){player.style.visibility=e?"visible":"hidden"},this.attachEvent=function(e,t){_self["on"+e]=t},this.command=function(e,t){},this.setCDNAuthParam=function(e){},this.setPlayItem=function(e){$("track").remove(),e.Subtitles&&e.Subtitles.length&&e.Subtitles[0].URL&&""!=e.Subtitles[0].URL&&$("video").append('<track src="'+e.Subtitles[0].URL+'" label="Captions" kind="subtitles" default />'),_self.open(e.URL)},this.setSubtitleFont=function(e,t){},this.setSubtitleColor=function(e,t,n,a){},this.setSubtitlePosition=function(e,t){},this.setSubtitleText=function(e){},this.setWatermarkText=function(e){},this.setWatermarkSize=function(e){},this.setWatermarkColor=function(e,t,n,a){},this.setWatermarkLocation=function(e){},this.setWatermarkInterval=function(e){},this.setWatermarkDuration=function(e){},this.getSeekable=function(){return _seekable},this.setSeekable=function(e){_seekable=!!e},this.getBrightness=function(){return 0},this.setBrightness=function(e){},this.getContrast=function(){return 0},this.setContrast=function(e){},this.getSaturation=function(){return 0},this.setSaturation=function(e){},this.getFrameStep=function(){return _frameStep},this.setFrameStep=function(e){_frameStep=e},this.getDeviceID=function(){},this.setTrim=function(e,t){_trimStart=e,_trimEnd=t,_self.onDurationChanged&&_self.onDurationChanged()},this.getSubtitleVisible=function(){return!(0<player.textTracks.length)||"hidden"!=player.textTracks[0].mode},this.setSubtitleVisible=function(e){0<player.textTracks.length&&(player.textTracks[0].mode=e?"showing":"hidden")},this.getSubtitleCount=function(){return player.textTracks.length},player.addEventListener("loadstart",function(){_pendingClose?(_pendingClose=!1,onClose()):fireOpenStateChanged(NPlayer.OpenState.Opening)},!1),player.addEventListener("loadeddata",function(){fireOpenStateChanged(NPlayer.OpenState.Opened)},!1),player.addEventListener("durationchange",function(){},!1),player.addEventListener("canplay",function(){0!=_trimStart&&0==player.currentTime&&(player.currentTime=_trimStart),0!=_trimStart&&-1==_trimEnd&&(_trimEnd=player.duration,_self.onDurationChanged&&_self.onDurationChanged())},!1),player.addEventListener("suspend",function(){},!1),player.addEventListener("emptied",function(){},!1),player.addEventListener("click",function(e){_self.onClick&&_self.onClick(e.x,e.y)},!1),player.addEventListener("dblclick",function(e){_self.onDblClick&&_self.onDblClick(e.x,e.y)},!1),player.addEventListener("seeking",function(){this._notfireplay=!0},!1),player.addEventListener("play",function(){this._notfireplay=!1},!1),player.addEventListener("playing",function(){this._notfireplay&&_self.getPlayState()!=NPlayer.PlayState.Stopped?this._notfireplay=!1:0==player.paused&&firePlayStateChanged(NPlayer.PlayState.Playing)},!1),player.addEventListener("pause",function(){_pendingStop?(_pendingStop=!1,firePlayStateChanged(NPlayer.PlayState.Stopped),_self.resetRepeatPointA(),_self.resetRepeatPointB()):firePlayStateChanged(NPlayer.PlayState.Paused)},!1),player.addEventListener("ended",function(){if(-1!=_self.getRepeatPointA())return player.currentTime=_self.getRepeatPointA(),void player.play();0==player.paused&&(firePlayStateChanged(NPlayer.PlayState.Paused),player.pause()),_self.onPlaybackCompleted&&_self.onPlaybackCompleted()},!1),player.addEventListener("waiting",function(){_self.onBufferingData&&(_isBuffering=!0,_self.onBufferingData(!0))},!1),player.addEventListener("abort",function(){},!1),player.addEventListener("error",function(){if("http://null/"!=player.src){var e;switch(player.error.code){case 1:e="비디오 재생을 중단하였습니다.";break;case 2:e="네트워크 오류가 발생하였습니다.";break;case 3:e="비디오 파일이 잘못되었거나 지원하지 않는 형식입니다.";break;case 4:e="비디오를 재생할 수 없습니다. 서비스 장애가 발생하였거나 지원하지 않는 형식입니다.";break;default:e="알 수 없는 오류가 발생하였습니다."}_self.onError&&_self.onError(player.error.code,e)}},!1),player.addEventListener("ratechange",function(){var e=10*player.playbackRate;e<1&&(e=0),e=parseInt(e)/10,_self.onRateChanged&&_self.onRateChanged(e)},!1),player.addEventListener("volumechange",function(){var e=10*player.volume;e<1&&(e=0),e=parseInt(e)/10,_self.onVolumeChanged&&_self.onVolumeChanged(e),_self.onMuteChanged&&_self.onMuteChanged(player.muted)},!1),player.addEventListener("timeupdate",function(){!0===_isBuffering&&player.readyState>=player.HAVE_FUTURE_DATA&&(_isBuffering=!1)===player.paused&&_self.onBufferingData&&_self.onBufferingData(!1),player.currentTime<_trimStart&&(player.currentTime=_trimStart),(0<=_repeatPointA||0<=_repeatPointB)&&(_self.getCurrentPlaybackTime()>=_self.getRepeatPointB()&&(_self.onRepeat&&_self.onRepeat(parseInt(_self.getCurrentPlaybackTime()),parseInt(_self.getRepeatPointA())),0==player.paused&&firePlayStateChanged(NPlayer.PlayState.Playing),player.currentTime=_self.getRepeatPointA()+_trimStart),_self.getCurrentPlaybackTime()<_self.getRepeatPointA()&&(player.currentTime=_self.getRepeatPointA()+_trimStart)),-1!=_trimEnd&&player.currentTime>_trimEnd&&(player.currentTime=_trimEnd,0==player.paused&&(firePlayStateChanged(NPlayer.PlayState.Paused),player.pause()),_self.onPlaybackCompleted&&_self.onPlaybackCompleted());try{var e=player.buffered.length;for(e!=$(".track_buffered").length&&$(".track_buffered").removeClass("active"),k=0;k<e;k++){var t=player.duration;-1!=_trimEnd&&(t=_trimEnd-_trimStart);var n=(player.buffered.end(k)-_trimStart)/t*100;100<n&&(n=100),0==$(".track_buffered"+(k+1)).length&&$('<div class="track_buffered track_buffered'+(k+1)+'"></div>').insertAfter($(".track_seekBtn")),$(".track_buffered"+(k+1)).css({left:"0%",width:n+"%"}).addClass("active"),player.buffered.start(k)>player.currentTime?$(".track_buffered"+(k+1)).hide():$(".track_buffered"+(k+1)).show()}$(".track_buffered").not(".active").remove()}catch(e){}_self.onUpdateTime&&_self.onUpdateTime(player.currentTime-_trimStart)},!1),window.addEventListener("unload",function(){_openState!=NPlayer.OpenState.Closed&&(firePlayStateChanged(NPlayer.PlayState.Stopped),fireOpenStateChanged(NPlayer.OpenState.Closing),fireOpenStateChanged(NPlayer.OpenState.Closed))},!1),window.addEventListener("beforeunload",function(){_openState!=NPlayer.OpenState.Closed&&(firePlayStateChanged(NPlayer.PlayState.Stopped),fireOpenStateChanged(NPlayer.OpenState.Closing),fireOpenStateChanged(NPlayer.OpenState.Closed))},!1),player.oncontextmenu=function(e){if("function"!=typeof showContextMenu)return!1;showContextMenu(e)}}function _NPlayerPlugin(e){var t=!1,n=30;this.open=function(t){e.open(t)},this.close=function(){e.close()},this.play=function(){e.play()},this.pause=function(){e.pause()},this.stop=function(){e.stop()},this.getOpenState=function(){return e.openState},this.getPlayState=function(){return e.playState},this.getDuration=function(){return e.duration},this.seek=function(t,n,a){e.currentPlaybackTime=0==n&&0==a?t:e.getNearestKeyframeTimestamp(t)},this.getCurrentPlaybackTime=function(){return e.currentPlaybackTime},this.setCurrentPlaybackTime=function(t){e.currentPlaybackTime=e.getNearestKeyframeTimestamp(t)},this.getCurrentPlaybackRate=function(){return e.currentPlaybackRate},this.setCurrentPlaybackRate=function(t){e.currentPlaybackRate=t},this.getNearestKeyframeTimestamp=function(t){return e.getNearestKeyframeTimestamp(t)},this.setPlaybackRange=function(t,n){e.setPlaybackRange(t,n)},this.addContextMenu=function(t,n){e.addContextMenu(t,n)},this.getVolume=function(){return e.volume},this.setVolume=function(t){e.volume=t},this.getMute=function(){return e.muted},this.setMute=function(t){e.muted=t},this.getFullscreen=function(){return e.fullscreen},this.setFullscreen=function(t){e.fullscreen=t},this.setABRepeat=function(t){e.repeatPointB=t?(e.repeatPointA=0,e.duration):e.repeatPointA=-1},this.getRepeatPointA=function(){return e.repeatPointA},this.setRepeatPointA=function(t){e.repeatPointA=t},this.resetRepeatPointA=function(){e.repeatPointA=-1},this.getRepeatPointB=function(){return e.repeatPointB},this.setRepeatPointB=function(t){e.repeatPointB=t},
this.resetRepeatPointB=function(){e.repeatPointB=-1},this.getBeginPlaybackPosition=function(){return e.beginPlaybackPosition},this.getEndPlaybackPosition=function(){return e.endPlaybackPosition},this.getVisible=function(){return t},this.setVisible=function(n){try{isIE()?e.height=e.width=n?"100%":"1px":e.style.visibility=n?"visible":"hidden"}catch(n){}t=!0},this.attachEvent=function(t,n){e.attachEvent(t,n)},this.command=function(t,n){e.command(t,n)},this.setCDNAuthParam=function(t){e.CDNAuthParam=t},this.setPlayItem=function(t){e.playItem=JSONstringify(t)},this.setSubtitleFont=function(t,n){e.setSubtitleFont(t),e.setSubtitleFontSize(n)},this.setSubtitleColor=function(t,n,a,i){e.setSubtitleColor(t,n,a,i)},this.setSubtitlePosition=function(t,n){e.setSubtitlePos(t,n)},this.setSubtitleText=function(t){e.setSubtitleText(t)},this.setWatermarkText=function(t){e.setWatermarkText(t)},this.setWatermarkSize=function(t){e.setWatermarkSize(t)},this.setWatermarkColor=function(t,n,a,i){e.setWatermarkColor(t,n,a,i)},this.setWatermarkLocation=function(t){e.setWatermarkLocation(t)},this.setWatermarkInterval=function(t){e.setWatermarkInterval(t)},this.setWatermarkDuration=function(t){e.setWatermarkDuration(t)},this.getSeekable=function(){return e.seekable},this.setSeekable=function(t){e.seekable=t},this.getBrightness=function(){return e.brightness},this.setBrightness=function(t){e.brightness=t},this.getContrast=function(){return e.contrast},this.setContrast=function(t){e.contrast=t},this.getSaturation=function(){return e.saturation},this.setSaturation=function(t){e.saturation=t},this.getFrameStep=function(){return void 0!==e.frameStep?e.frameStep:n},this.setFrameStep=function(t){void 0!==e.frameStep?e.frameStep=t:n=t},this.getDeviceID=function(){return e.deviceID},this.getPlayTime=function(){return e.playTime},this.getRealPlayTime=function(){return e.realPlayTime},this.getSubtitleVisible=function(){return e.subtitlesVisible},this.setSubtitleVisible=function(t){e.subtitlesVisible=t}}function _NPlayerMac(e,t){var n;NPlayer.OpenState.Closed,t.seekable,this.open=function(e){nPlayer.open(e),!1!==t.autoplay&&nPlayer.play()},this.close=function(){nPlayer.close()},this.play=function(){nPlayer.play()},this.pause=function(){nPlayer.pause()},this.stop=function(){},this.getOpenState=function(){return nPlayer.getOpenState()},this.getPlayState=function(){return nPlayer.getPlayState()},this.setPlayState=function(e){_playState=e},this.setDuration=function(e){n=e},this.getDuration=function(){return n},this.seek=function(e,t,n){nPlayer.seek(e,t,n)},this.getCurrentPlaybackTime=function(){return nPlayer.getCurrentPlaybackTime()},this.setCurrentPlaybackTime=function(e){nPlayer.setCurrentPlaybackTime(e)},this.getCurrentPlaybackRate=function(){return nPlayer.getCurrentPlaybackRate()},this.setCurrentPlaybackRate=function(e){nPlayer.setCurrentPlaybackRate(e)},this.getNearestKeyframeTimestamp=function(e){return e},this.setPlaybackRange=function(e,t){},this.addContextMenu=function(e,t){},this.getVolume=function(){return nPlayer.getVolume()},this.setVolume=function(e){e<0?e=0:1<e&&(e=1),nPlayer.setVolume(e)},this.getMute=function(){return nPlayer.getMute()},this.toggleRepeat=function(){nPlayer.toggleRepeat()},this.setABRepeat=function(e){nPlayer.setABRepeat(e)},this.setMute=function(e){nPlayer.setMute(e)},this.getFullscreen=function(){return nPlayer.getFullscreen()},this.toggleFullscreen=function(){nPlayer.toggleFullscreen()},this.setFullscreen=function(e){nPlayer.toggleFullscreen()},this.getABRepeat=function(e){return nPlayer.getABRepeat()},this.getRepeatPointA=function(){return nPlayer.getRepeatPointA()},this.setRepeatPointA=function(e){nPlayer.setRepeatPointA(e)},this.resetRepeatPointA=function(){},this.getRepeatPointB=function(){return nPlayer.getRepeatPointB()},this.setRepeatPointB=function(e){nPlayer.setRepeatPointB(e)},this.resetRepeatPointB=function(){},this.getBeginPlaybackPosition=function(){return-1},this.getEndPlaybackPosition=function(){return-1},this.getVisible=function(){return!0},this.setVisible=function(e){nPlayer.setVisible(e)},this.attachEvent=function(e,t){},this.command=function(e,t){},this.setCDNAuthParam=function(e){},this.setPlayItem=function(e){},this.setSubtitleFont=function(e,t){},this.setSubtitleColor=function(e,t,n,a){},this.setSubtitlePosition=function(e,t){},this.setSubtitleText=function(e){},this.setWatermarkText=function(e){nPlayer.setWatermarkText(e)},this.setWatermarkSize=function(e){nPlayer.setWatermarkSize(e)},this.setWatermarkColor=function(e,t,n,a){nPlayer.setWatermarkColor(e,t,n,a)},this.setWatermarkLocation=function(e){nPlayer.setWatermarkLocation(e)},this.setWatermarkInterval=function(e){nPlayer.setWatermarkInterval(e)},this.setWatermarkDuration=function(e){nPlayer.setWatermarkDuration(e)},this.getSeekable=function(){return!0},this.setSeekable=function(e){},this.getBrightness=function(){return 0},this.setBrightness=function(e){},this.getContrast=function(){return 0},this.setContrast=function(e){},this.getSaturation=function(){return 0},this.setSaturation=function(e){},this.getFrameStep=function(){return nPlayer.getFrameStep()},this.setFrameStep=function(e){nPlayer.setFrameStep(e)},this.getDeviceID=function(){return nPlayer.getDeviceID()},this.testlog=function(e){}}var g__nplayer_version="2.0.14",g__nplayer_index__=0,g__json_callback_index__=0,g__json_callback__=[],isMacOSXApplication=!1;NPlayer.OpenState=function(){},NPlayer.OpenState.Opening=0,NPlayer.OpenState.Opened=1,NPlayer.OpenState.Closing=2,NPlayer.OpenState.Closed=3,NPlayer.PlayState=function(){},NPlayer.PlayState.Playing=0,NPlayer.PlayState.Paused=1,NPlayer.PlayState.Stopped=2,NPlayer.PlayState.WAIT_USER_INTERACTION=3;