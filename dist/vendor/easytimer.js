var module,Timer=function(n){"use strict";function t(){return"undefined"!=typeof document}function e(){return C}function o(n,t){return(n%t+t)%t}function s(n,t,e){var o,s="";for(o=0;o<t;o+=1)s+=String(e);return(s+n).slice(-s.length)}function r(){this.secondTenths=0,this.seconds=0,this.minutes=0,this.hours=0,this.days=0,this.toString=function(n,t,e){n=n||["hours","minutes","seconds"],t=t||":",e=e||2;var o,r=[],i="";for(o=0;o<e;o+=1)i+="0";for(o=0;o<n.length;o+=1)void 0!==this[n[o]]&&r.push(s(this[n[o]],e,"0"));return r.join(t)}}function i(){function n(n,t){var e=Math.floor(t);hn[n]=e,fn[n]=n!==T?o(e,j[n]):e}function s(n){return V(n,T)}function i(n){return V(n,g)}function L(n){return V(n,b)}function M(n){return V(n,w)}function U(n){return V(n,y)}function V(t,e){var o=hn[e];return n(e,t/E[e]),hn[e]!==o}function A(){k(),z()}function k(){clearInterval(tn),tn=void 0,ln=!1,pn=!1}function x(n){Z()||R(n),D()}function D(){if(Y())throw new Error("Timer already running");if(!S()){var n=E[en];an=Date.now()-hn.secondTenths*E[y]*on,tn=setInterval(P,n),ln=!0,pn=!1}}function P(){var n=on>0?Date.now()-an:an-Date.now(),t={};t[y]=U(n),t[w]=M(n),t[b]=L(n),t[g]=i(n),t[T]=s(n),q(t),sn(fn),S()&&(X("targetAchieved",yn),H())}function q(n){n[y]&&X("secondTenthsUpdated",yn),n[w]&&X("secondsUpdated",yn),n[b]&&X("minutesUpdated",yn),n[g]&&X("hoursUpdated",yn),n[T]&&X("daysUpdated",yn)}function I(){return fn.days>un[m]||fn.days===un[m]&&(fn.hours>un[p]||fn.hours===un[p]&&(fn.minutes>un[l]||fn.minutes===un[l]&&(fn.seconds>=un[v]||fn.seconds===un[w]&&fn.secondTenths>=un[h])))}function O(){return fn.days<un[m]||fn.days===un[m]&&(fn.hours<un[p]||fn.hours===un[p]&&(fn.minutes<un[l]||fn.minutes===un[l]&&(fn.seconds<un[v]||fn.seconds===un[v]&&fn.secondTenths<=un[h])))}function S(){return un instanceof Array&&(mn.countdown&&O()||!mn.countdown&&I())}function z(){for(var n in fn)fn.hasOwnProperty(n)&&"number"==typeof fn[n]&&(fn[n]=0);for(var n in hn)hn.hasOwnProperty(n)&&"number"==typeof hn[n]&&(hn[n]=0)}function R(n){en=n&&"string"==typeof n.precision?n.precision:w,sn=n&&"function"==typeof n.callback?n.callback:function(){},on=n&&!0===n.countdown?-1:1,dn=n&&1==n.countdown,n&&"object"==typeof n.target&&F(n.target),n&&"object"==typeof n.startValues&&G(n.startValues),un=un||!dn?un:[0,0,0,0,0],mn={precision:en,callback:sn,countdown:"object"==typeof n&&1==n.countdown,target:un,startValues:cn},rn=n}function B(n){var t,e,o,s,r,i;if("object"==typeof n)if(n instanceof Array){if(5!=n.length)throw new Error("Array size not valid");i=n}else i=[n.secondTenths||0,n.seconds||0,n.minutes||0,n.hours||0,n.days||0];for(var u=0;u<n.length;u+=1)n[u]<0&&(n[u]=0);return t=i[h],e=i[v]+Math.floor(t/c),o=i[l]+Math.floor(e/d),s=i[p]+Math.floor(o/a),r=i[m]+Math.floor(s/f),i[h]=t%c,i[v]=e%d,i[l]=o%a,i[p]=s%f,i[m]=r,i}function F(n){un=B(n)}function G(n){cn=B(n),fn.secondTenths=cn[h],fn.seconds=cn[v],fn.minutes=cn[l],fn.hours=cn[p],fn.days=cn[m],hn.days=fn.days,hn.hours=hn.days*f+fn.hours,hn.minutes=hn.hours*a+fn.minutes,hn.seconds=hn.minutes*d+fn.seconds,hn.secondTenths=hn.seconds*c+fn.secondTenths}function H(){A(),X("stopped",yn)}function J(){A(),x(rn),X("reset",yn)}function K(n){x(n),X("started",yn)}function N(){k(),pn=!0,X("paused",yn)}function Q(n,o){t()?vn.addEventListener(n,o):e()&&vn.on(n,o)}function W(n,o){t()?vn.removeEventListener(n,o):e()&&vn.removeListener(n,o)}function X(n,o){t()?vn.dispatchEvent(new u(n,o)):e()&&vn.emit(n,o)}function Y(){return ln}function Z(){return pn}function $(){return fn}function _(){return hn}function nn(){return mn}var tn,en,on,sn,rn,un,cn,dn,an,fn=new r,hn=new r,vn=t()?document.createElement("span"):e()?new C.EventEmitter:void 0,ln=!1,pn=!1,mn={},yn={detail:{timer:this}};void 0!==this&&(this.start=K,this.pause=N,this.stop=H,this.reset=J,this.isRunning=Y,this.isPaused=Z,this.getTimeValues=$,this.getTotalTimeValues=_,this.getConfig=nn,this.addEventListener=Q,this.removeEventListener=W)}var u="undefined"!=typeof window?window.CustomEvent:void 0;"undefined"!=typeof window&&"function"!=typeof u&&(u=function(n,t){t=t||{bubbles:!1,cancelable:!1,detail:void 0};var e=document.createEvent("CustomEvent");return e.initCustomEvent(n,t.bubbles,t.cancelable,t.detail),e},u.prototype=window.Event.prototype,window.CustomEvent=u);var c=10,d=60,a=60,f=24,h=0,v=1,l=2,p=3,m=4,y="secondTenths",w="seconds",b="minutes",g="hours",T="days",E={secondTenths:100,seconds:1e3,minutes:6e4,hours:36e5,days:864e5},j={secondTenths:c,seconds:d,minutes:a,hours:f},C=n&&n.exports&&"function"==typeof require?require("events"):void 0;return n&&n.exports?n.exports=i:"function"==typeof define&&define.amd&&define([],function(){return i}),i}(module);